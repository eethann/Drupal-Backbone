<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=1024, user-scalable=no">

    <title>Backbone Development with Drupal | Drupal Backbone @ DrupalCon Munich</title>
    <meta name="description" content="The DrupalCon Munich 2012 Drupal and Backbone session slides." />
    <meta name="keywords" content="drupal, backbone, drupalcon, ethan winn, echoditto, javascript, backbone.js, drupal backbone" />
    <meta http-equiv="X-Powered-By" content="DocPad"/>

    <!-- Required stylesheet -->
    <link rel="stylesheet" href="vendor/deck.js/core/deck.core.css">

    <!-- Extension CSS files go here. Remove or add as needed. -->
    <link rel="stylesheet" href="vendor/deck.js/extensions/goto/deck.goto.css">
    <link rel="stylesheet" href="vendor/deck.js/extensions/menu/deck.menu.css">
    <link rel="stylesheet" href="vendor/deck.js/extensions/navigation/deck.navigation.css">
    <!-- <link rel="stylesheet" href="vendor/deck.js/extensions/status/deck.status.css"> -->
    <link rel="stylesheet" href="vendor/deck.js/extensions/hash/deck.hash.css">
    <!-- <link rel="stylesheet" href="vendor/deck.js/extensions/scale/deck.scale.css"> -->

    <!-- Transition theme. More available in /themes/transition/ or create your own. -->
    <link rel="stylesheet" href="vendor/deck.js/themes/transition/horizontal-slide.css">

    <!-- Style theme. More available in /themes/style/ or create your own. -->
    <!-- <link rel="stylesheet" href="vendor/deck.js/themes/style/swiss.css"> -->
        <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500,700' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

    <!-- CodeMirror Deck Stuff -->
        <link rel="stylesheet" href="vendor/deck.js-codemirror/deck.codemirror.css">
        <!-- <link rel="stylesheet" href="vendor/codemirror2/theme/monokai.css"> -->
        <link rel="stylesheet"
              href="vendor/deck.js-codemirror/themes/default.css">
        <link rel="stylesheet"
              href="vendor/codemirror2/theme/monokai.css">
        <link rel="stylesheet"
              href="vendor/codemirror2/theme/lesser-dark.css">
        <link rel="stylesheet"
              href="vendor/codemirror2/theme/vibrant-ink.css">
        <link rel="stylesheet"
              href="vendor/codemirror2/theme/rubyblue.css">

    <link rel="stylesheet" href="drupalcon.css">

    <!-- Required Modernizr file -->
    <script src="vendor/deck.js/modernizr.custom.js"></script>

</head>
<body>

  <article class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

    // TODO: add funny pictures and jokes
section.slide
  h1 Using the Drupal Backbone Module
  div.below Ethan Winn - ethanw/@eethann/ethan@echoditto.com
section.slide
    h1 a.k.a "A Deep Dive Into the Shallow Side of the Pool"
section.slide
    h1 First: A Simple Drupal + Backbone Demo:
section.slide
    h2 The Classic: Todo
    embed(src="video/backbone-demo-setvik-todo.mov", height="330", width="860", align="middle", autoplay="false")
    p By Stein Setvik (setvik) of Forum One
section.slide
  h1 Do not forget the enemy:
section.slide
  img(src="images/spaghetti-js.png")
  div.small @searls: https://speakerdeck.com/u/searls/p/confidencejs 
section.slide
  h1 Backbone Can Help
section.slide
  h1 Let's break it down
section.slide
  //
      NOTE: this is the real threesome for Backbone, more than "MVC"
      NOTE: this applies to both spaghetti and app architecture
  h1
    ol
      li Requesting
      li Rendering
      li Responding
section.slide
  h1 1. Requesting
section.slide
  h2 Load a node!
  textarea#node-fetch-js.code(mode="javascript")
    include code/node-fetch.js
//
    section.slide
    h2 Automatic Parsing
    h3 TODO
section.slide
  h2 Create a node &amp; save it:
  textarea.code#node-create-js(mode="javascript")
    include code/node-create.js
section.slide
  h2 ...and comments...
  textarea.code(mode="javascript")
    include code/comment-model-examples.js
section.slide
  h2 ...or users...
  textarea.code(mode="javascript")
    include code/user-model-examples.js
section.slide
  h2 ...or files, or flags, or...
section.slide
  h2 Behind the Scenes: Saving
  img(src="images/node-save-activity.png", height="375")
section.slide
  h2 Behind the Scenes: Loading
  img(src="images/node-load-activity.png", height="375")
section.slide
  h2 Backbone.sync can point to anything:
  // object(data="images/Promiscuous Backbone Architecture.svg",type="image/svg+xml")
  img(src="images/Promiscuous Backbone Architecture.png")
section.slide
    h2 Example: Archive.org Integration
    embed(src="video/backbone-demo-ybc-archive.mov", height="330", width="860", align="middle", autoplay="false")
section.slide
    h2 Thanks EchoDitto for supporting this module development!
    img(src="images/EchoDitto_ad_for_guide_hires.png", height="125")
section.slide
  h1 2. Rendering
section.slide
  h2 ...client-side!
section.slide
  h2 With a twig.js template
  textarea.code#node-display-twig(mode="jinja2")
    include code/node-display.twig.tpl.php
  p (handlebars or _.js also work)
section.slide
  h2 And a Backbone View:
  textarea.code#node-display-js(mode="javascript")
    include code/node-display.js
section.slide
    h2 Voil√†: HTML!
    img(src="images/backbone-example-node-render.png")
section.slide
  h2 Views can refresh automatically
  textarea.code#node-render-changes-js(mode="javascript")
    include code/node-render-changes.js
section.slide
  h1 3. Responding
section.slide
  h2 Backbone Views also handle User Events
section.slide
  h2 We just add a button to our node template
  textarea#event-binding-tpl.code(mode="jinja2", runnable="false")
    include code/collection-item-event-binding.twig.tpl.php
section.slide
  h2 And add a listener in our view
  textarea#collection-item-event-binding-js.code(mode="javascript")
    include code/collection-item-event-binding.js
section.slide
    h2 Ahoy: Interactivity!
    embed(src="video/backbone-example-node-event.mov", height="400", width="735", align="middle", autoplay="false")    
section.slide
  h1 Plus: 4. Collections!!
section.slide
  img(src="images/load-all-the-nodes-q.png")
section.slide
  img(src="images/load-all-the-nodes-x.png")
section.slide
  h2 Load lots of nodes!
  textarea.code#collection-load-js(mode="javascript")
    include code/collection-load.js
section.slide
  h2 Rendering lots of nodes: the "Collection View" pattern
section.slide
  h2 Another simple template
  textarea.code(mode="jinja2")
    include code/collection-render.twig.tpl.php
section.slide
  h2 And a Backbone View, pt1
  textarea.code(mode="javascript")
    include code/collection-render-pt1.js
section.slide
    h2 DRY: We re-use our node template
    img(src="images/backbone-example-collection-render.png")
section.slide
  h2 Item events work in collections!
    embed(src="video/backbone-example-collection-event.mov", height="400", width="735", align="middle", autoplay="false")    
    // NOTE: could be keystrokes, dragging, etc.
section.slide
  h2 Backbone is all about delegation
section.slide
  h2 The Drupal Backbone Stack
  img(src="images/Drupal Backbone App Structure.png", height="375")
section.slide
  h2 Setting up our Backbone Module
section.slide#callback
  h2 Menu Callback: App Path
  textarea.code#module-hook(mode="php")
    include code/module-callback.php
section.slide
  h2 Page Callback: Includes Backbone Lib and App JS
  textarea.code#module-inc(mode="php")
    include code/module-includes.php
  //TODO: dtermine is library should/can be included here
section.slide
  h2 Make a root element for our app
  textarea.code#module-root(mode="php")
    include code/module-root-element.php
section.slide
  h2 Use the theme layer for templates
  textarea.code#module-theme(mode="php")
    include code/module-theme.php
section.slide
  h2 Added advantage that we can use t()
  textarea.code#module-theme(mode="jinja2")
    include code/translation-example.twig.tpl.php
  // NOTE: w/ Twig server-side templates we may lose this awesome bit.  Sigh.
section.slide
  h1 One more demo...
section.slide
    h2 ShotClip
    embed(src="video/backbone-demo-cormac-steps.mov", height="330", width="860", align="middle", autoplay="false")
    p By Cormac McGuire (cromac) / Studio Rua
section.slide
    h1 WAIT!
section.slide
  h2 We want to know what you thought about this session:
  p Find this session on the DrupalCon Munich site:
  p.center
    a(href="http://munich2012.drupal.org/program") http://munich2012.drupal.org/program
  p And click the "Take the Survey" link.
    p (and message us on Drupal.org or Twitter!)
section.slide
  h1 ALSO: BoF Tomorrow, 13:00-14:00 in the Athen room.
section.slide
    h1 Thank you!

    <!-- End slides. -->


    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet -->
    <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
    <a href="#" class="deck-next-link" title="Next">&#8594;</a>

    <!-- deck.status snippet -->
    <!-- <p class="deck-status"> -->
    <!--   <span class="deck-status-current"></span> -->
    <!--   / -->
    <!--   <span class="deck-status-total"></span> -->
    <!-- </p> -->

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- deck.hash snippet -->
    <a href="." title="Permalink to this slide" class="deck-permalink">#</a>

    <!-- End extension snippets. -->
  </article>


<!-- Required JS files. -->
<script src="vendor/deck.js/jquery-1.7.2.min.js"></script>
<script src="vendor/deck.js/core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="vendor/deck.js/core/deck.core.js"></script>
<script src="vendor/deck.js/extensions/hash/deck.hash.js"></script>
<script src="vendor/deck.js/extensions/menu/deck.menu.js"></script>
<script src="vendor/deck.js/extensions/goto/deck.goto.js"></script>
<!-- <script src="vendor/deck.js/extensions/status/deck.status.js"></script> -->
<script src="vendor/deck.js/extensions/navigation/deck.navigation.js"></script>
<!-- <script src="vendor/deck.js/extensions/scale/deck.scale.js"></script> -->
<script src="vendor/codemirror2/lib/codemirror.js"></script>
<script src="vendor/codemirror2/mode/xml/xml.js"></script>
<script src="vendor/codemirror2/mode/css/css.js"></script>
<script src="vendor/codemirror2/mode/htmlmixed/htmlmixed.js"></script>
<script src="vendor/codemirror2/mode/jinja2/jinja2.js"></script>
<script src="vendor/codemirror2/mode/javascript/javascript.js"></script>
<script src="vendor/codemirror2/mode/clike/clike.js"></script>
<script src="vendor/codemirror2/mode/php/php.js"></script>

<script src="vendor/deck.js-codemirror/deck.codemirror.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
    $(function() {
        $.deck('section.slide', {
                   codemirror: {
                     theme: "rubyblue",
                     mode: "javascript",
                     lineNumbers: true
                   }
                });
    });
</script>
</body>
</html>
