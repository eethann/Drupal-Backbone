<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8" />

	<!-- Use the .htaccess and remove these lines to avoid edge case issues.
	   More info: h5bp.com/i/378 -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<!-- Our site title and description -->
	<title><%= @getPreparedTitle() %></title>
	<meta name="description" content="<%= @getPreparedDescription() %>" />
	<meta name="keywords" content="<%= @getPreparedKeywords() %>" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style"
	      content="black-translucent" />
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic'
	      rel='stylesheet' type='text/css'>

	<!-- Output DocPad produced meta elements -->
	<%- @getBlock('meta').toHTML() %>

	<!-- Mobile viewport optimized: h5bp.com/viewport -->
	<meta name="viewport" content="width=device-width" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->
	<%- @getBlock('styles').add(["/style.css", "/vendor/reveal.js/css/main.css", "/vendor/reveal.js/css/theme/default.css","/vendor/reveal-highlight-monokai.css","/vendor/codemirror2/lib/codemirror.css","/vendor/codemirror2/theme/monokai.css"]).toHTML() %>
	<!-- More ideas for your <head> here: h5bp.com/d/head-Tips -->
</head>
<body>
	<!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
		chromium.org/developers/how-tos/chrome-frame-getting-started -->
	<!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
	<header>

	</header>
	<div role="main">
          <div class="reveal">
            <div class="slides">
              <%- @content %>
            </div>
          </div>

	</div>
	<footer>

	</footer>


	<!-- JavaScript at the bottom for fast page loading -->

	<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="j/vendor/jquery.js"><\/script>')</script>

	<!-- scripts concatenated and minified via build script -->
	<%- @getBlock('scripts').add(['/vendor/log.js','/vendor/modernizr.js', "/script.js"]).toHTML() %>
	<!-- end scripts -->
        <script src="/vendor/reveal.js/lib/js/head.min.js"></script>
        <script src="/vendor/reveal.js/js/reveal.min.js"></script>
	<script>

	  // Full list of configuration options available here:
	  // https://github.com/hakimel/reveal.js#configuration
	  Reveal.initialize({
  	    controls: true,
	    progress: true,
	    history: true,
            //keyboard: false,
	    transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/linear(2d)

	  // Optional libraries used to extend on reveal.js
	  dependencies: [
	    { src: '/vendor/reveal.js/lib/js/highlight.js',
              async: true, 
              callback: function() { 
                console.log('hl');
                hljs.initHighlightingOnLoad(); } },
	  { src: '/vendor/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
	  { src: '/vendor/reveal.js/lib/js/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
	  { src: '/vendor/reveal.js/lib/js/data-markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
	  { src: '/vendor/reveal.js/socket.io/socket.io.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
	  { src: '/vendor/reveal.js/plugin/speakernotes/client.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
	  ]
	  });
    head.js('/vendor/codemirror2/lib/codemirror.js',
              '/vendor/codemirror2/mode/jinja2/jinja2.js',
             '/vendor/codemirror2/mode/php/php.js',
             '/vendor/codemirror2/mode/javascript/javascript.js',
             '/vendor/codemirror2/mode/xml/xml.js',
             '/vendor/codemirror2/mode/css/css.js',
             '/vendor/codemirror2/mode/htmlmixed/htmlmixed.js',
             function() {
                console.log('Getting textareas...');
                jQuery('textarea.code').each(function(i, codeblock) {
                  var editor, mycodeblock;
                  mycodeblock = jQuery(codeblock);
                  console.log('yay:' + mycodeblock.data('lang'));
                  editor = CodeMirror.fromTextArea(mycodeblock[0], {
                    mode: {
                      name: mycodeblock.data('lang'),
                      htmlMode: true
                    },
                    theme: "monokai"
                  });
                });
              });
    
	</script>

	<!-- Asynchronous Google Analytics snippet. Change UA-XXXXX-X to be your site's ID.
	mathiasbynens.be/notes/async-analytics-snippet -->
	<script>
		var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
		(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
		g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
		s.parentNode.insertBefore(g,s)}(document,'script'));
	</script>
</body>
</html>
